{"ast":null,"code":"import _defineProperty from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import BookCard from'./book-card';import uniqid from'uniqid';var Form=/*#__PURE__*/function(_React$Component){_inherits(Form,_React$Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.setExampleBook_Dune=function(){var book={title:'Dune',author:'Frank Herbert',pages:'658',bookRead:'read',id:uniqid()};return book;};_this.setExampleBook_1984=function(){var book={title:'1984',author:'George Orwell',pages:'298',bookRead:'read',id:uniqid()};return book;};_this.handleChange=function(e){var value=e.target.value;var name=e.target.name;_this.setState(_defineProperty({},name,value));};_this.bookObj=function(){var book={title:_this.state.bookTitle,author:_this.state.bookAuthor,pages:_this.state.bookPages,bookRead:_this.state.isBookRead,id:_this.state.id};return book;};_this.removeBook=function(book){var updatedArray=_this.state.library.filter(function(item){return item.id!==book.id;});_this.setState({library:updatedArray});_this.updateLocalStorage(updatedArray);};_this.toggleFormDisplay=function(){_this.state.displayForm===true?_this.setState({displayForm:false}):_this.setState({displayForm:true});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({library:_this.state.library.concat(_this.bookObj()),bookTitle:'',bookAuthor:'',bookPages:'',isBookRead:'read'});return _this.toggleFormDisplay();};_this.updateLibraryArray=function(book){var update=book;var bookIndex=_this.state.library.findIndex(function(book){return book.id===update.id;});_this.state.library.splice(bookIndex,1,update);_this.setState({library:_this.state.library});_this.updateLocalStorage(_this.state.library);};_this.updateLocalStorage=function(libraryArray){localStorage.setItem('libraryArray',JSON.stringify(libraryArray));};_this.state={library:localStorage.getItem('libraryArray')===null?[_this.setExampleBook_Dune(),_this.setExampleBook_1984()]:JSON.parse(localStorage.getItem('libraryArray')),displayForm:false,bookTitle:'',bookAuthor:'',bookPages:'',isBookRead:'read',id:uniqid()};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.removeBook=_this.removeBook.bind(_assertThisInitialized(_this));_this.toggleFormDisplay=_this.toggleFormDisplay.bind(_assertThisInitialized(_this));_this.updateLibraryArray=_this.updateLibraryArray.bind(_assertThisInitialized(_this));return _this;}_createClass(Form,[{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"form-and-card-div\"},/*#__PURE__*/React.createElement(\"div\",{id:\"book-parent-div\"},this.state.library===undefined?null:this.state.library.map(function(book){return/*#__PURE__*/React.createElement(BookCard,{key:book.id,book:book,removeBook:_this2.removeBook,updateLibraryArray:_this2.updateLibraryArray});})),/*#__PURE__*/React.createElement(\"button\",{id:\"toggle-btn\",onClick:this.toggleFormDisplay},\"Toggle Add A Book Form\"),this.state.displayForm===false?null:/*#__PURE__*/React.createElement(\"form\",{id:\"add-a-book-form\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"This book is:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{name:\"isBookRead\",value:this.state.isBookRead,onChange:this.handleChange,required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--select one--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"read\"},\"read\"),/*#__PURE__*/React.createElement(\"option\",{value:\"unread\"},\"unread\"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Book Title\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookTitle\",type:\"text\",value:this.state.bookTitle,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"label\",null,\"Author\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookAuthor\",type:\"text\",value:this.state.bookAuthor,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"label\",null,\"Number of Pages\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookPages\",type:\"number\",value:this.state.bookPages,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"ADD\")));}}]);return Form;}(React.Component);export default Form;","map":{"version":3,"sources":["/home/tim/Documents/GitHub/book-shelf-react-app/src/components/input-form.js"],"names":["React","BookCard","uniqid","Form","props","setExampleBook_Dune","book","title","author","pages","bookRead","id","setExampleBook_1984","handleChange","e","value","target","name","setState","bookObj","state","bookTitle","bookAuthor","bookPages","isBookRead","removeBook","updatedArray","library","filter","item","updateLocalStorage","toggleFormDisplay","displayForm","handleSubmit","preventDefault","concat","updateLibraryArray","update","bookIndex","findIndex","splice","libraryArray","localStorage","setItem","JSON","stringify","getItem","parse","bind","undefined","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport BookCard from './book-card';\nimport uniqid from 'uniqid';\n\nclass Form extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            library: localStorage.getItem('libraryArray') === null ? [this.setExampleBook_Dune(), this.setExampleBook_1984()] : JSON.parse(localStorage.getItem('libraryArray')),\n            displayForm: false,\n            bookTitle: '',\n            bookAuthor: '',\n            bookPages: '',\n            isBookRead: 'read',\n            id: uniqid(),\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.removeBook = this.removeBook.bind(this);\n        this.toggleFormDisplay = this.toggleFormDisplay.bind(this);\n        this.updateLibraryArray = this.updateLibraryArray.bind(this);\n    }\n\n    setExampleBook_Dune = () => {\n        let book = {\n            title: 'Dune',\n            author: 'Frank Herbert',\n            pages: '658',\n            bookRead: 'read',\n            id: uniqid(),\n        }\n        return book;\n    }\n\n    setExampleBook_1984 = () => {\n        let book = {\n            title: '1984',\n            author: 'George Orwell',\n            pages: '298',\n            bookRead: 'read',\n            id: uniqid(),\n        }\n        return book;\n}\n\n    handleChange = (e) => {\n        const value = e.target.value;\n        const name = e.target.name;\n\n        this.setState({ [name]: value });\n    }\n\n    bookObj = () => {\n        let book = {\n                title: this.state.bookTitle,\n                author: this.state.bookAuthor,\n                pages: this.state.bookPages,\n                bookRead: this.state.isBookRead,\n                id: this.state.id,\n            }\n        return book;\n    }\n\n    removeBook = (book) => {\n        let updatedArray = this.state.library.filter(item => item.id !== book.id)\n        this.setState({ library: updatedArray })\n        this.updateLocalStorage(updatedArray);\n    }\n\n    toggleFormDisplay = () => {\n        this.state.displayForm === true ? this.setState({ displayForm: false }) : this.setState({ displayForm: true });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.setState({\n            library: this.state.library.concat(this.bookObj()),\n            bookTitle: '',\n            bookAuthor: '',\n            bookPages: '',\n            isBookRead: 'read',\n        });\n        return this.toggleFormDisplay();\n    }\n\n    updateLibraryArray = (book) => {\n        let update = book;\n        let bookIndex = this.state.library.findIndex(book => book.id === update.id);\n        this.state.library.splice(bookIndex, 1, update);\n        this.setState({ library: this.state.library });\n        this.updateLocalStorage(this.state.library);\n    }\n\n    updateLocalStorage = (libraryArray) => {\n        localStorage.setItem('libraryArray', JSON.stringify(libraryArray));\n    }\n\n    render() {\n        return (\n            <div id='form-and-card-div'>\n                <div id='book-parent-div'>\n                    {this.state.library === undefined ? null : this.state.library.map((book) => {\n                        return <BookCard key={book.id} book={book} removeBook={this.removeBook} updateLibraryArray={this.updateLibraryArray}/>;\n                    })}\n                </div>\n                <button id='toggle-btn' onClick={this.toggleFormDisplay}>\n                    Toggle Add A Book Form\n                </button>\n                {this.state.displayForm === false ? null : \n                <form id='add-a-book-form' onSubmit={this.handleSubmit}>\n                    <label>\n                        This book is:\n                        <br />\n                        <select \n                            name=\"isBookRead\"\n                            value={this.state.isBookRead}\n                            onChange={this.handleChange}\n                            required\n                        >\n                        <option value=\"\">--select one--</option>\n                        <option value={\"read\"}>read</option>\n                        <option value={\"unread\"}>unread</option>\n                        </select>\n                    </label>\n                    <br />\n                    <label>\n                        Book Title\n                    <input \n                        name=\"bookTitle\"\n                        type=\"text\"\n                        value={this.state.bookTitle}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <label>\n                        Author\n                    <input\n                        name=\"bookAuthor\"\n                        type=\"text\"\n                        value={this.state.bookAuthor}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <label>\n                        Number of Pages\n                    <input\n                        name=\"bookPages\"\n                        type=\"number\"\n                        value={this.state.bookPages}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <button type='submit'>\n                        ADD\n                    </button>\n                </form>\n                }\n            </div>\n        )\n    }\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}