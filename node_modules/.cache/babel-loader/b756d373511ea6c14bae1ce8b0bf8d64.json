{"ast":null,"code":"import _defineProperty from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/tim/Documents/GitHub/book-shelf-react-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import BookCard from'./book-card';import uniqid from'uniqid';var Form=/*#__PURE__*/function(_React$Component){_inherits(Form,_React$Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.setExampleBook_Dune=function(){var book={title:'Dune',author:'Frank Herbert',pages:'658',bookRead:'read',id:uniqid()};return book;};_this.setExampleBook_1984=function(){var book={title:'1984',author:'George Orwell',pages:'298',bookRead:'read',id:uniqid()};return book;};_this.handleChange=function(e){var value=e.target.value;var name=e.target.name;_this.setState(_defineProperty({},name,value));_this.setBookObj();};_this.setBookObj=function(){_this.setState({book:{title:_this.state.bookTitle,author:_this.state.bookAuthor,pages:_this.state.bookPages,bookRead:_this.state.isBookRead,id:uniqid()}});};_this.removeBook=function(book){var deleteMe=book;_this.setState({library:_this.state.library.filter(function(book){return book.id!==deleteMe.id;})});};_this.toggleFormDisplay=function(){_this.state.displayForm===true?_this.setState({displayForm:false}):_this.setState({displayForm:true});};_this.handleSubmit=function(e){e.preventDefault();_this.setState({library:_this.state.library.concat(_this.state.book),bookTitle:'',bookAuthor:'',bookPages:'',isBookRead:'read'});return _this.toggleFormDisplay();};_this.updateLibraryArray=function(book){var update=book;var bookIndex=_this.state.library.findIndex(function(book){return book.id===update.id;});_this.state.library.splice(bookIndex,1,update);_this.setState({library:_this.state.library});_this.updateLocalStorage();};_this.updateLocalStorage=function(){localStorage.setItem('libraryArray',JSON.stringify(_this.state.library));};_this.state={library:localStorage.getItem('libraryArray')===null?[_this.setExampleBook_Dune(),_this.setExampleBook_1984()]:JSON.parse(localStorage.getItem('libraryArray')),displayForm:false,bookTitle:'',bookAuthor:'',bookPages:'',isBookRead:'read',book:{title:'',author:'',pages:'',bookRead:'',id:uniqid()}};_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));_this.removeBook=_this.removeBook.bind(_assertThisInitialized(_this));_this.toggleFormDisplay=_this.toggleFormDisplay.bind(_assertThisInitialized(_this));_this.updateLibraryArray=_this.updateLibraryArray.bind(_assertThisInitialized(_this));return _this;}_createClass(Form,[{key:\"render\",value:// consoleLogLibrary = () => {\n//     console.log(this.state.library);\n// }\nfunction render(){var _this2=this;return/*#__PURE__*/React.createElement(\"div\",{id:\"form-and-card-div\"},/*#__PURE__*/React.createElement(\"div\",{id:\"book-parent-div\"},this.state.library===undefined?null:this.state.library.map(function(book){return/*#__PURE__*/React.createElement(BookCard,{key:book.id,book:book,removeBook:_this2.removeBook,updateLibraryArray:_this2.updateLibraryArray});})),/*#__PURE__*/React.createElement(\"button\",{id:\"toggle-btn\",onClick:this.toggleFormDisplay},\"Toggle Add A Book Form\"),this.state.displayForm===false?null:/*#__PURE__*/React.createElement(\"form\",{id:\"add-a-book-form\",onSubmit:this.handleSubmit},/*#__PURE__*/React.createElement(\"label\",null,\"This book is:\",/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"select\",{name:\"isBookRead\",value:this.state.isBookRead,onChange:this.handleChange,required:true},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"--select one--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"read\"},\"read\"),/*#__PURE__*/React.createElement(\"option\",{value:\"unread\"},\"unread\"))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"label\",null,\"Book Title\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookTitle\",type:\"text\",value:this.state.bookTitle,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"label\",null,\"Author\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookAuthor\",type:\"text\",value:this.state.bookAuthor,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"label\",null,\"Number of Pages\",/*#__PURE__*/React.createElement(\"input\",{name:\"bookPages\",type:\"number\",value:this.state.bookPages,onChange:this.handleChange,required:true})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"ADD\")));}}]);return Form;}(React.Component);export default Form;","map":{"version":3,"sources":["/home/tim/Documents/GitHub/book-shelf-react-app/src/components/input-form.js"],"names":["React","BookCard","uniqid","Form","props","setExampleBook_Dune","book","title","author","pages","bookRead","id","setExampleBook_1984","handleChange","e","value","target","name","setState","setBookObj","state","bookTitle","bookAuthor","bookPages","isBookRead","removeBook","deleteMe","library","filter","toggleFormDisplay","displayForm","handleSubmit","preventDefault","concat","updateLibraryArray","update","bookIndex","findIndex","splice","updateLocalStorage","localStorage","setItem","JSON","stringify","getItem","parse","bind","undefined","map","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport BookCard from './book-card';\nimport uniqid from 'uniqid';\n\nclass Form extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            library: localStorage.getItem('libraryArray') === null ? [this.setExampleBook_Dune(), this.setExampleBook_1984()] : JSON.parse(localStorage.getItem('libraryArray')),\n            displayForm: false,\n            bookTitle: '',\n            bookAuthor: '',\n            bookPages: '',\n            isBookRead: 'read',\n            book: {\n                title: '',\n                author: '',\n                pages: '',\n                bookRead: '',\n                id: uniqid(),\n            },\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.removeBook = this.removeBook.bind(this);\n        this.toggleFormDisplay = this.toggleFormDisplay.bind(this);\n        this.updateLibraryArray = this.updateLibraryArray.bind(this);\n    }\n\n    setExampleBook_Dune = () => {\n        let book = {\n            title: 'Dune',\n            author: 'Frank Herbert',\n            pages: '658',\n            bookRead: 'read',\n            id: uniqid(),\n        }\n        return book;\n    }\n\n    setExampleBook_1984 = () => {\n        let book = {\n            title: '1984',\n            author: 'George Orwell',\n            pages: '298',\n            bookRead: 'read',\n            id: uniqid(),\n        }\n        return book;\n}\n\n    handleChange = (e) => {\n        const value = e.target.value;\n        const name = e.target.name;\n\n        this.setState({ [name]: value });\n        this.setBookObj();\n    }\n\n    setBookObj = () => {\n        this.setState({\n            book: {\n                title: this.state.bookTitle,\n                author: this.state.bookAuthor,\n                pages: this.state.bookPages,\n                bookRead: this.state.isBookRead,\n                id: uniqid(),\n            },\n        });\n    }\n\n    removeBook = (book) => {\n        let deleteMe = book;\n        this.setState({\n            library: this.state.library.filter(book => book.id !== deleteMe.id),\n        })\n    }\n\n    toggleFormDisplay = () => {\n        this.state.displayForm === true ? this.setState({ displayForm: false }) : this.setState({ displayForm: true });\n    }\n\n    handleSubmit = (e) => {\n        e.preventDefault();\n        this.setState({\n            library: this.state.library.concat(this.state.book),\n            bookTitle: '',\n            bookAuthor: '',\n            bookPages: '',\n            isBookRead: 'read',\n        });\n        return this.toggleFormDisplay();\n    }\n\n    updateLibraryArray = (book) => {\n        let update = book;\n        let bookIndex = this.state.library.findIndex(book => book.id === update.id);\n        this.state.library.splice(bookIndex, 1, update);\n        this.setState({ library: this.state.library });\n        this.updateLocalStorage();\n    }\n\n    updateLocalStorage = () => {\n        localStorage.setItem('libraryArray', JSON.stringify(this.state.library));\n    }\n\n    // consoleLogLibrary = () => {\n    //     console.log(this.state.library);\n    // }\n\n    render() {\n        return (\n            <div id='form-and-card-div'>\n            {/* <button onClick={this.consoleLogLibrary}>\n                console.log library\n            </button> */}\n                <div id='book-parent-div'>\n                    {this.state.library === undefined ? null : this.state.library.map((book) => {\n                        return <BookCard key={book.id} book={book} removeBook={this.removeBook} updateLibraryArray={this.updateLibraryArray}/>;\n                    })}\n                </div>\n                <button id='toggle-btn' onClick={this.toggleFormDisplay}>\n                    Toggle Add A Book Form\n                </button>\n                {this.state.displayForm === false ? null : \n                <form id='add-a-book-form' onSubmit={this.handleSubmit}>\n                    <label>\n                        This book is:\n                        <br />\n                        <select \n                            name=\"isBookRead\"\n                            value={this.state.isBookRead}\n                            onChange={this.handleChange}\n                            required\n                        >\n                        <option value=\"\">--select one--</option>\n                        <option value={\"read\"}>read</option>\n                        <option value={\"unread\"}>unread</option>\n                        </select>\n                    </label>\n                    <br />\n                    <label>\n                        Book Title\n                    <input \n                        name=\"bookTitle\"\n                        type=\"text\"\n                        value={this.state.bookTitle}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <label>\n                        Author\n                    <input\n                        name=\"bookAuthor\"\n                        type=\"text\"\n                        value={this.state.bookAuthor}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <label>\n                        Number of Pages\n                    <input\n                        name=\"bookPages\"\n                        type=\"number\"\n                        value={this.state.bookPages}\n                        onChange={this.handleChange}\n                        required\n                    />\n                    </label>\n                    <button type='submit'>\n                        ADD\n                    </button>\n                </form>\n                }\n            </div>\n        )\n    }\n}\n\nexport default Form;"]},"metadata":{},"sourceType":"module"}