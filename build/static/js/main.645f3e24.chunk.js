(this["webpackJsonpreact-library-app"]=this["webpackJsonpreact-library-app"]||[]).push([[0],{13:function(e,t,a){e.exports=a(23)},18:function(e,t,a){},23:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(10),c=a.n(o),l=(a(18),a(0)),u=a.n(l),i=a(7),m=a(2),s=a(12),b=a(4),d=a(3);function p(e){var t=Object(n.useState)(!1),a=Object(m.a)(t,2),o=a[0],c=a[1],l=(e.library,e.addBookToLibrary),u=Object(n.useState)({title:"",author:"",pages:"",bookRead:"read",id:Math.floor(1e3*Math.random())}),i=Object(m.a)(u,2),s=i[0],p=i[1],f=function(e){p(Object(d.a)(Object(d.a)({},s),{},Object(b.a)({},e.target.name,e.target.value)))},E=function(){c(!0!==o)};return r.a.createElement("div",{className:"form-and-card-div"},r.a.createElement("button",{className:"toggle-btn",onClick:E},"Add A Book"),!1===o?null:r.a.createElement("div",{className:"modal"},r.a.createElement("span",{className:"close-btn",onClick:E},"\xd7"),r.a.createElement("form",{className:"modal-content add-a-book-form",onSubmit:function(e){return e.preventDefault(),l(s),E()}},r.a.createElement("label",null,"This book is:",r.a.createElement("br",null),r.a.createElement("select",{name:"bookRead",value:s.bookRead,onChange:f,required:!0},r.a.createElement("option",{value:""},"--select one--"),r.a.createElement("option",{value:"read"},"read"),r.a.createElement("option",{value:"unread"},"unread"))),r.a.createElement("br",null),r.a.createElement("label",null,"Book Title",r.a.createElement("input",{name:"title",type:"text",value:s.title,onChange:f,required:!0})),r.a.createElement("label",null,"Author",r.a.createElement("input",{name:"author",type:"text",value:s.author,onChange:f,required:!0})),r.a.createElement("label",null,"Number of Pages",r.a.createElement("input",{name:"pages",type:"number",value:s.pages,onChange:f,required:!0})),r.a.createElement("button",{type:"submit"},"ADD"))))}function f(e){var t=Object(n.useState)(e.book),a=Object(m.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)(!1),u=Object(m.a)(l,2),i=u[0],s=u[1],p=Object(n.useState)("hide"),f=Object(m.a)(p,2),E=f[0],k=f[1],h=e.updateLibrary,v=e.removeBook,O=function(e){c(Object(d.a)(Object(d.a)({},o),{},Object(b.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"book-child-div"},"".concat(o.title," by ").concat(o.author," has ").concat(o.pages," pages and is ").concat(o.bookRead),r.a.createElement("button",{onClick:function(){"read"===o.bookRead?(o.bookRead="unread",c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookRead:"unread"})}))):(o.bookRead="read",c((function(e){return Object(d.a)(Object(d.a)({},e),{},{bookRead:"read"})}))),h(o)}},"Change Read Status"),r.a.createElement("button",{onClick:function(){return s(!0)}},"Edit Book"),"hide"===E?r.a.createElement("button",{onClick:function(){return k("show")}},"DELETE BOOK"):r.a.createElement("div",{className:"modal"},r.a.createElement("span",{className:"close-btn",onClick:function(){return k("hide")}},"\xd7"),r.a.createElement("div",{className:"modal-content"},r.a.createElement("button",{onClick:function(){return v(o)}},"YES, DELETE BOOK"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return k("hide")}},"NO, do NOT delete Book"))),!1===i?null:r.a.createElement("div",{className:"modal"},r.a.createElement("span",{className:"close-btn",onClick:function(){return s(!1)}},"\xd7"),r.a.createElement("form",{className:"modal-content add-a-book-form",onSubmit:function(e){e.preventDefault(),s(!1),h(o)}},r.a.createElement("label",null,"Book Title",r.a.createElement("input",{name:"title",type:"text",value:o.title,onChange:O})),r.a.createElement("label",null,"Author",r.a.createElement("input",{name:"author",type:"text",value:o.author,onChange:O})),r.a.createElement("label",null,"Number of Pages",r.a.createElement("input",{name:"pages",type:"number",value:o.pages,onChange:O})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"EDIT"))))}function E(){return r.a.createElement("div",{id:"github"},r.a.createElement("a",{href:"https://github.com/timdavidharris/book-shelf-react-app",target:"_blank",rel:"noopener noreferrer"},"GitHub Link"))}var k=Object(s.a)("https://viyyqfksopapspnrgxwi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZpeXlxZmtzb3BhcHNwbnJneHdpIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NDY3MDk5MTIsImV4cCI6MTk2MjI4NTkxMn0.HkJJK2a8rUPa-EU3VUeiibZD76AJSjTK7rQ7BcWi_as"),h=function(){return Math.floor(1e3*Math.random())};h(),h();function v(){var e=Object(n.useState)([]),t=Object(m.a)(e,2),a=t[0],o=t[1];function c(e){return l.apply(this,arguments)}function l(){return(l=Object(i.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.forEach(function(){var e=Object(i.a)(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={data:t},e.next=3,k.from("test_table").upsert({id:a.data.id,book:a});case 3:n=e.sent,n.data,n.error;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(i.a)(u.a.mark((function e(){var t,a,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("test_table").select();case 2:t=e.sent,a=t.data,t.error,n=a.map((function(e){return e.book.data})),o(n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(){return(b=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("test_table").select("*");case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var d=function(e){var t=e,n=a.findIndex((function(e){return e.id===t.id}));a.splice(n,1,t),o(a),c(a)},h=function(e){var t=a.filter((function(t){return t.id!==e.id}));o(t),c(t)};return r.a.createElement("main",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Book Shelf"),r.a.createElement("h2",null,"Books on Your Shelf")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return c(a)}},"Click to Upsert Data"),r.a.createElement("button",{onClick:function(){return function(){return b.apply(this,arguments)}()}},"Click to Read Rows"),r.a.createElement("button",{onClick:function(){return function(){return s.apply(this,arguments)}()}},"Click to Get Library")),r.a.createElement("section",null,r.a.createElement(p,{library:a,addBookToLibrary:function(e){o(a.concat(e))}})),r.a.createElement("section",{className:"book-parent-div"},void 0===a||0===a.length?r.a.createElement("div",{className:"book-child-div"},"\u261d\ufe0f",r.a.createElement("br",null),r.a.createElement("h3",null,"Humm... no books?",r.a.createElement("br",null),'Click "Add A Book" to start your library!')):a.map((function(e){return r.a.createElement(f,{key:e.id,book:e,updateLibrary:d,removeBook:h})}))),r.a.createElement("footer",null,r.a.createElement(E,null)))}function O(){return r.a.createElement(v,null)}c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.645f3e24.chunk.js.map